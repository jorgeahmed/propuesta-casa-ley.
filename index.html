<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propuesta Interactiva: Renovación de Infraestructura para Casa Ley</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a single-page, multi-section dashboard. This structure allows stakeholders to quickly grasp the high-level benefits and KPIs (Visión General), while enabling technical teams to perform deep-dives into specific components (Arquitectura Detallada, Servicios, Inversión). This non-linear, task-oriented flow is more usable than a static document, catering to different audiences within Casa Ley. A new 'Análisis Financiero' section has been added to provide ROI and TCO projections, strengthening the business case. Key interactions include smooth scrolling, clickable diagram elements to reveal details and product images, interactive timeline, and clickable charts to visualize technical and financial data. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Project timeline. -> Goal: Organize/Change over time. -> Viz/Presentation: Interactive vertical timeline. -> Interaction: Clicking a phase displays a detailed task list for that phase. -> Justification: Makes the project plan more engaging and easier to digest than a static list. -> Library/Method: HTML/Tailwind/JS.
        - Report Info: Financial/Data Charts. -> Goal: Inform/Compare. -> Viz/Presentation: Bar and Doughnut charts. -> Interaction: Clicking on a chart segment (bar/arc) opens a modal with a detailed explanation of that specific data point. -> Justification: Provides on-demand detail without cluttering the main view, enhancing user exploration. -> Library/Method: Chart.js/JS/HTML.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        .chart-container {
            position: relative;
            margin: auto;
            height: 300px;
            width: 100%;
            max-width: 450px;
        }
        .chart-container-large {
             position: relative;
            margin: auto;
            height: 400px;
            width: 100%;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .component-section { display: none; }
        .component-section.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .component-active { background-color: #0369a1; color: white; }
        .nav-active { color: #0369a1; font-weight: 600; }
        .timeline-item { cursor: pointer; transition: transform 0.2s; }
        .timeline-item:hover { transform: scale(1.02); }
        .timeline-item.active .timeline-marker { background-color: #0284c7; }
        .timeline-item.active .timeline-card { border-color: #0284c7; box-shadow: 0 4px 14px 0 rgba(2, 132, 199, 0.1); }
        .diagram-block { transition: all 0.3s ease-in-out; }
        .diagram-block.on { background-color: #0ea5e9; color: white; transform: scale(1.05); }
        .toggle-row { cursor: pointer; }
        .toggle-row .arrow { transition: transform 0.3s ease; }
        .toggle-row.open .arrow { transform: rotate(90deg); }
        .arch-tab.active {
            border-color: #0ea5e9;
            background-color: #0ea5e9;
            color: white;
        }
        .arch-content {
            display: none;
        }
        .arch-content.active {
            display: block;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-3">
                <img id="main-logo" src="./images/logo_sinai.png" alt="SINAI Mantenimiento Logo" class="h-14 w-auto">
                <span class="text-lg font-semibold text-slate-700 hidden sm:block">Propuesta para Casa Ley</span>
            </a>
            <div class="hidden md:flex items-center space-x-5 text-slate-600">
                <a href="#vision" class="hover:text-sky-700 transition-colors nav-link">Visión General</a>
                <a href="#documentacion" class="hover:text-sky-700 transition-colors nav-link">Documentación</a>
                <a href="#arquitectura" class="hover:text-sky-700 transition-colors nav-link">Arquitectura</a>
                <a href="#servicios" class="hover:text-sky-700 transition-colors nav-link">Servicios</a>
                <a href="#inversion" class="hover:text-sky-700 transition-colors nav-link">Inversión</a>
                <a href="#financiero" class="hover:text-sky-700 transition-colors nav-link">Análisis Financiero</a>
            </div>
            <a href="#conclusion" class="hidden md:inline-block bg-sky-700 text-white font-semibold px-5 py-2 rounded-lg hover:bg-sky-800 transition-colors">
                Contacto
            </a>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20">

        <!-- Section 1: Visión General -->
        <section id="vision" class="text-center mb-24">
            <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Una Plataforma para el Futuro del Retail</h2>
            <p class="max-w-3xl mx-auto text-lg text-slate-600 mb-12">
                Nuestra propuesta entrega una infraestructura hiperconvergente desagregada (dHCI) de Dell Technologies, diseñada para exceder los requisitos del RFP y garantizar el rendimiento, la escalabilidad y la continuidad operativa de Casa Ley por los próximos 5 años y más.
            </p>
             <div class="max-w-2xl mx-auto mb-12">
                <p class="mb-4 text-slate-600">Pase el cursor sobre una característica para ver el componente en el diagrama.</p>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-2 p-4 bg-white rounded-xl shadow-lg border border-slate-100">
                    <div id="diagram-computo" class="diagram-block w-full sm:w-1/3 p-3 text-center rounded-lg bg-slate-200 text-slate-600 font-semibold">Cómputo</div>
                    <div class="text-slate-400 font-bold hidden sm:block">→</div>
                    <div id="diagram-red" class="diagram-block w-full sm:w-1/3 p-3 text-center rounded-lg bg-slate-200 text-slate-600 font-semibold">Red</div>
                    <div class="text-slate-400 font-bold hidden sm:block">→</div>
                    <div id="diagram-almacenamiento" class="diagram-block w-full sm:w-1/3 p-3 text-center rounded-lg bg-slate-200 text-slate-600 font-semibold">Almacenamiento</div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100 transform hover:-translate-y-2 transition-transform duration-300 feature-card" data-target="diagram-almacenamiento">
                    <div class="text-sky-600 mb-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg></div>
                    <h3 class="text-2xl font-bold text-slate-900">>150,000</h3><p class="text-slate-500">IOPS de Escritura</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100 transform hover:-translate-y-2 transition-transform duration-300 feature-card" data-target="diagram-almacenamiento">
                    <div class="text-teal-600 mb-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7l8 5 8-5" /></svg></div>
                    <h3 class="text-2xl font-bold text-slate-900">300 TiB</h3><p class="text-slate-500">Almacenamiento Usable NVMe</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100 transform hover:-translate-y-2 transition-transform duration-300 feature-card" data-target="diagram-computo">
                    <div class="text-indigo-600 mb-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M4 17v4M2 19h4M18 3v4M16 5h4M17 17v4M15 19h4M12 9v2m0 4h.01" /></svg></div>
                    <h3 class="text-2xl font-bold text-slate-900">1.5 TiB</h3><p class="text-slate-500">RAM por Servidor</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100 transform hover:-translate-y-2 transition-transform duration-300 feature-card" data-target="diagram-red">
                    <div class="text-rose-600 mb-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg></div>
                    <h3 class="text-2xl font-bold text-slate-900">5 Años</h3><p class="text-slate-500">Soporte 24x7x365</p>
                </div>
            </div>
        </section>
        
        <!-- Section: Documentación -->
        <section id="documentacion" class="mb-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Documentación de Soporte</h2>
                <p class="max-w-2xl mx-auto text-lg text-slate-600">Acceda a los documentos clave del proyecto para una revisión detallada.</p>
            </div>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="p-8 bg-sky-600 text-white rounded-xl shadow-lg flex flex-col items-center justify-center text-center">
                    <h3 class="font-bold text-2xl">Nuestra Propuesta Detallada</h3>
                    <p class="mt-2 mb-4">Descargue la respuesta completa al RFP, con toda la información técnica y económica.</p>
                    <a href="./docs/respuesta_rfp_sinai.pdf" target="_blank" class="inline-flex items-center justify-center px-6 py-3 bg-white text-sky-600 font-semibold rounded-lg shadow-md hover:bg-slate-100 transition-all">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                        Descargar Propuesta
                    </a>
                </div>
                <div class="p-8 bg-white rounded-xl shadow-lg border border-slate-200 flex flex-col items-center justify-center text-center">
                    <h3 class="font-semibold text-2xl text-slate-800">RFP Original del Cliente</h3>
                    <p class="text-slate-500 mt-2 mb-4">Consulte el documento de solicitud de propuesta original para referencia.</p>
                     <a href="./docs/propuesta_original_cliente.pdf" target="_blank" class="inline-flex items-center justify-center px-6 py-3 bg-slate-100 text-slate-700 font-semibold rounded-lg hover:bg-slate-200 transition-all">
                        Ver Documento
                    </a>
                </div>
            </div>
        </section>

        <!-- Section 2: Arquitectura -->
        <section id="arquitectura" class="mb-24">
             <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Arquitectura Técnica Detallada</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">Nuestra solución se basa en una arquitectura de Infraestructura Hiperconvergente Desagregada (dHCI), que combina la simplicidad de la hiperconvergencia con la flexibilidad y el rendimiento del almacenamiento dedicado. Explore los diagramas a continuación para entender su funcionamiento y beneficios.</p>
            </div>
            
            <!-- Interactive Architecture Explanation -->
            <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-slate-100 mb-12">
                <div class="flex flex-col sm:flex-row border-b border-slate-200 mb-6">
                    <button data-target="arch-dhci" class="arch-tab flex-1 p-3 font-semibold text-slate-600 border-b-2 border-transparent hover:bg-slate-100 active">Arquitectura en Capas (dHCI)</button>
                    <button data-target="arch-manager" class="arch-tab flex-1 p-3 font-semibold text-slate-600 border-b-2 border-transparent hover:bg-slate-100">Gestión Centralizada</button>
                    <button data-target="arch-comparison" class="arch-tab flex-1 p-3 font-semibold text-slate-600 border-b-2 border-transparent hover:bg-slate-100">Comparativa HCI vs. dHCI</button>
                </div>
                <div id="arch-content-container">
                    <div id="arch-dhci" class="arch-content active">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <img src="" alt="Diagrama de arquitectura en capas dHCI" class="rounded-lg shadow-md w-full h-auto bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Diagrama+dHCI';">
                            <div>
                                <h4 class="font-bold text-xl text-slate-800 mb-2">Escalabilidad Independiente</h4>
                                <p class="text-slate-600">Este diagrama muestra la separación clave de nuestra arquitectura. Arriba, los **Nodos Dinámicos VxRail** (cómputo) y abajo, el almacenamiento **PowerFlex/PowerStore**. Están conectados por una red de alta velocidad, pero no están en la misma caja. <br><br><strong>Beneficio para Casa Ley:</strong> Si necesita más poder de procesamiento para nuevas aplicaciones, puede agregar más nodos de cómputo. Si necesita más espacio para datos, puede expandir el almacenamiento, todo de forma independiente, optimizando la inversión.</p>
                            </div>
                        </div>
                    </div>
                    <div id="arch-manager" class="arch-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                             <img src="" alt="Diagrama de gestión centralizada con VxRail Manager" class="rounded-lg shadow-md w-full h-auto bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=VxRail+Manager';">
                            <div>
                                <h4 class="font-bold text-xl text-slate-800 mb-2">Un Único Punto de Control</h4>
                                <p class="text-slate-600">**VxRail Manager** es el cerebro que automatiza y simplifica la gestión. Desde una única consola, se puede administrar todo el ciclo de vida del clúster principal en el centro de datos y extender esa gestión a otras ubicaciones o sitios remotos. <br><br><strong>Beneficio para Casa Ley:</strong> Reduce drásticamente la complejidad administrativa. Las actualizaciones de software y firmware de toda la infraestructura se realizan con un solo clic, garantizando consistencia y seguridad en todos los sitios.</p>
                            </div>
                        </div>
                    </div>
                    <div id="arch-comparison" class="arch-content">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <img src="" alt="Diagrama comparando HCI tradicional con dHCI" class="rounded-lg shadow-md w-full h-auto bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=HCI+vs+dHCI';">
                            <div>
                                <h4 class="font-bold text-xl text-slate-800 mb-2">Flexibilidad vs. Simplicidad</h4>
                                <p class="text-slate-600">A la izquierda, la **HCI tradicional** con vSAN: cómputo y almacenamiento están juntos en el mismo servidor. Es simple pero menos flexible. A la derecha, nuestra propuesta **dHCI con PowerFlex/PowerStore**: el cómputo (VxRail Dynamic Nodes) y el almacenamiento están separados, conectados por una red de alto rendimiento.<br><br><strong>Beneficio para Casa Ley:</strong> Se obtiene la simplicidad de gestión de la HCI pero con el rendimiento y la flexibilidad de poder escalar el almacenamiento para bases de datos masivas sin afectar el cómputo, y viceversa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <div class="bg-white p-8 rounded-2xl shadow-xl border border-slate-100 sticky top-28">
                    <div id="architecture-diagram" class="space-y-4">
                        <button data-component="computo" class="component-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-sky-600 hover:bg-sky-50 transition-all component-active"><div class="flex items-center space-x-4"><span class="text-3xl">🖥️</span><div><h4 class="font-bold text-lg">Cómputo: 10x Nodos Dell VxRail</h4><p class="text-sm text-slate-500">2x AMD EPYC 32c y 1.5TiB RAM por nodo</p></div></div></button>
                        <div class="flex justify-center"><div class="h-8 w-1 bg-slate-300"></div></div>
                        <div class="grid grid-cols-2 gap-4">
                            <button data-component="red-lan" class="component-btn text-left p-3 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-teal-600 hover:bg-teal-50 transition-all"><h4 class="font-semibold text-center">Red LAN 25GbE</h4></button>
                            <button data-component="red-san" class="component-btn text-left p-3 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-indigo-600 hover:bg-indigo-50 transition-all"><h4 class="font-semibold text-center">Red SAN 32Gbps</h4></button>
                        </div>
                        <div class="flex justify-center"><div class="h-8 w-1 bg-slate-300"></div></div>
                        <button data-component="almacenamiento" class="component-btn w-full text-left p-4 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-rose-600 hover:bg-rose-50 transition-all"><div class="flex items-center space-x-4"><span class="text-3xl">💽</span><div><h4 class="font-bold text-lg">Almacenamiento: Dell PowerStore 1200T</h4><p class="text-sm text-slate-500">300TiB Usable, All-NVMe, 384GiB Cache x2</p></div></div></button>
                        <div class="flex justify-center"><div class="h-8 w-1 bg-slate-300"></div></div>
                        <div class="grid grid-cols-2 gap-4">
                            <button data-component="proteccion" class="component-btn text-left p-3 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-lime-600 hover:bg-lime-50 transition-all"><h4 class="font-semibold text-center">Protección de Datos</h4></button>
                            <button data-component="energia" class="component-btn text-left p-3 rounded-lg border-2 border-slate-200 bg-slate-100 hover:border-green-600 hover:bg-green-50 transition-all"><h4 class="font-semibold text-center">Energía Opcional</h4></button>
                        </div>
                    </div>
                </div>
                <div id="component-details">
                    <div id="computo-section" class="component-section active bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de un servidor Dell PowerEdge en un rack" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Dell+VxRail+Node';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Plataforma de Cómputo: Dell VxRail</span><a href="https://dl.dell.com/content/manual55265800-dell-vxrail-architecture-overview.pdf?language=en-us" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-6">Basada en 10 nodos **Dell VxRail Dynamic Nodes** para un rendimiento masivo en virtualización, cumpliendo todos los requisitos del RFP.</p><ul class="space-y-3 text-slate-700"><li class="flex items-start"><span class="text-sky-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Procesadores:</strong> 2x AMD EPYC™ 9374F de 32 núcleos por nodo.</div></li><li class="flex items-start"><span class="text-sky-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Memoria:</strong> 1.5 TiB de RAM DDR5 por nodo.</div></li><li class="flex items-start"><span class="text-sky-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Arranque:</strong> Sistema redundante Dell BOSS-N1 con 2x SSDs en RAID 1.</div></li></ul></div>
                    <div id="almacenamiento-section" class="component-section bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de un arreglo de almacenamiento Dell PowerStore" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Dell+PowerStore';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Almacenamiento: Dell PowerStore</span><a href="https://www.delltechnologies.com/asset/es-es/products/storage/technical-support/dell-powerstore-gen2-spec-sheet.pdf" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-4">El corazón de la solución, optimizado para bases de datos y cargas de trabajo críticas.</p><ul class="space-y-2 text-slate-700 mb-4"><li class="flex items-start"><span class="text-rose-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Rendimiento:</strong> >150K IOPS escritura, latencia <1ms.</div></li><li class="flex items-start"><span class="text-rose-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Caché:</strong> 384 GiB por controladora, arquitectura activo-activo.</div></li><li class="flex items-start"><span class="text-rose-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Disponibilidad:</strong> Diseñado para 99.9999% de uptime.</div></li></ul><div class="text-center mb-4"><h4 class="text-lg font-semibold text-slate-800">Visualización de Capacidad</h4><p class="text-sm text-slate-500 mt-1">Haga clic en un segmento para ver detalles.</p></div><div class="chart-container mx-auto"><canvas id="storageChart"></canvas></div></div>
                    <div id="red-lan-section" class="component-section bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de un switch de red Dell PowerSwitch" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Dell+PowerSwitch';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Red LAN: Dell PowerSwitch</span><a href="https://www.delltechnologies.com/asset/en-in/products/networking/technical-support/dell_emc_networking-s5200_on_spec_sheet.pdf" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-6">Conectividad de alta velocidad y redundante para el tráfico de máquinas virtuales, vMotion y gestión.</p><ul class="space-y-3 text-slate-700"><li class="flex items-start"><span class="text-teal-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Switches:</strong> 2x Dell PowerSwitch S5232F-ON en alta disponibilidad.</div></li><li class="flex items-start"><span class="text-teal-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Velocidad:</strong> Conectividad a 25GbE por nodo.</div></li></ul></div>
                    <div id="red-san-section" class="component-section bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de un switch de red de fibra óptica Cisco MDS" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Dell+Connectrix';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Red SAN: Dell Connectrix</span><a href="https://dl.dell.com/content/manual37298660-dell-connectrix-cisco-nexus-dashboard-fabric-controller-12-2-3-release-notes.pdf?language=en-us" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-6">Una red Fibre Channel dedicada y sin puntos únicos de fallo para el tráfico de almacenamiento más crítico.</p><ul class="space-y-3 text-slate-700"><li class="flex items-start"><span class="text-indigo-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Switches:</strong> 2x Dell Connectrix MDS-9132T.</div></li><li class="flex items-start"><span class="text-indigo-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Velocidad:</strong> 32Gbps por puerto.</div></li><li class="flex items-start"><span class="text-indigo-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Puertos por Servidor:</strong> 4 puertos de 32Gbps por servidor.</div></li></ul></div>
                    <div id="proteccion-section" class="component-section bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de una librería de cintas de respaldo Quantum Scalar" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Quantum+Scalar+i6';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Protección de Datos: Quantum Scalar i6</span><a href="https://cdn.allbound.com/iq-ab/2021/11/Scalar-Tape-DS00559A.pdf" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-6">Estrategia de respaldo y recuperación multicapa para máxima resiliencia ante cualquier desastre.</p><ul class="space-y-3 text-slate-700"><li class="flex items-start"><span class="text-lime-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Software:</strong> Veeam Data Platform.</div></li><li class="flex items-start"><span class="text-lime-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Archivo:</strong> Biblioteca de cintas Quantum Scalar i6.</div></li><li class="flex items-start"><span class="text-lime-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Ciberseguridad:</strong> Copias "Air-Gapped" en cinta, inmunes a ransomware.</div></li></ul></div>
                    <div id="energia-section" class="component-section bg-white p-8 rounded-2xl shadow-xl border border-slate-100"><img src="" alt="Imagen de un sistema de alimentación ininterrumpida UPS Vertiv" class="w-full h-48 object-cover rounded-lg mb-6 bg-slate-100" onerror="this.onerror=null;this.src='https://placehold.co/600x400/e2e8f0/475569?text=Vertiv+Liebert+UPS';"><h3 class="text-2xl font-bold text-slate-900 mb-4 flex items-center justify-between"><span>Energía Opcional: Vertiv Liebert UPS</span><a href="https://www.vertiv.com/48f7d5/globalassets/products/critical-power/uninterruptible-power-supplies-ups/liebert-exs-data-sheet-spanish.pdf" target="_blank" class="text-sm text-sky-600 hover:underline">Ficha Técnica →</a></h3><p class="text-slate-600 mb-6">Transforme el consumo energético en un activo gestionado para reducir costos y mejorar la sostenibilidad.</p><ul class="space-y-3 text-slate-700"><li class="flex items-start"><span class="text-green-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Ahorro:</strong> Reduce cargos por demanda pico con "Peak Shaving".</div></li><li class="flex items-start"><span class="text-green-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Eficiencia:</strong> 99% de eficiencia con corrección de factor de potencia.</div></li><li class="flex items-start"><span class="text-green-600 mr-3 mt-1">✓</span><div><strong class="font-semibold">Resiliencia:</strong> Baterías de Ion-Litio de larga duración.</div></li></ul></div>
                </div>
            </div>
        </section>

        <!-- Section 3: Servicios y Plan -->
        <section id="servicios" class="mb-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Plan de Implementación Interactivo</h2>
                <p class="max-w-2xl mx-auto text-lg text-slate-600">Un proyecto "llave en mano" con una metodología probada. Haga clic en cada fase para ver las tareas clave.</p>
            </div>
            <div class="lg:grid lg:grid-cols-2 lg:gap-12 items-start">
                <div class="relative max-w-2xl mx-auto lg:mx-0">
                    <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-slate-200" aria-hidden="true"></div>
                    <div id="timeline" class="space-y-12 relative">
                        <div class="timeline-item flex items-center w-full" data-phase="Fase 1 (1-2 Semanas)" data-tasks='["Reunión de kick-off con stakeholders","Validación final de la arquitectura","Diseño detallado de la red (VLANs, IPs)","Elaboración del plan de interconexión"]'><div class="w-1/2 pr-8 text-right"><div class="timeline-card bg-white p-6 rounded-xl shadow-lg border-2 border-transparent"><p class="text-sky-700 font-semibold">Fase 1</p><h4 class="font-bold text-lg text-slate-900 mt-1">Descubrimiento y Diseño</h4></div></div><div class="timeline-marker absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-slate-400 border-4 border-white"></div><div class="w-1/2"></div></div>
                        <div class="timeline-item flex items-center w-full" data-phase="Fase 2 (4-6 Semanas)" data-tasks='["Proceso de compra y logística","Coordinación para preparación del sitio","Revisión de requisitos de energía y clima","Planificación de la ventana de instalación"]'><div class="w-1/2"></div><div class="timeline-marker absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-slate-400 border-4 border-white"></div><div class="w-1/2 pl-8 text-left"><div class="timeline-card bg-white p-6 rounded-xl shadow-lg border-2 border-transparent"><p class="text-slate-500 font-semibold">Fase 2</p><h4 class="font-bold text-lg text-slate-900 mt-1">Adquisición y Preparación</h4></div></div></div>
                        <div class="timeline-item flex items-center w-full" data-phase="Fase 3 y 4 (2-3 Semanas)" data-tasks='["Montaje en rack de equipos","Cableado estructurado (energía, red)","Encendido inicial y verificación de hardware","Instalación y configuración de la plataforma lógica"]'><div class="w-1/2 pr-8 text-right"><div class="timeline-card bg-white p-6 rounded-xl shadow-lg border-2 border-transparent"><p class="text-sky-700 font-semibold">Fase 3 y 4</p><h4 class="font-bold text-lg text-slate-900 mt-1">Instalación y Configuración</h4></div></div><div class="timeline-marker absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-slate-400 border-4 border-white"></div><div class="w-1/2"></div></div>
                        <div class="timeline-item flex items-center w-full" data-phase="Fase 5 (1 Semana)" data-tasks='["Pruebas de rendimiento (IOPS, latencia)","Pruebas de alta disponibilidad (failover)","Ciclo completo de respaldo y recuperación","Validación conjunta con el equipo de Casa Ley"]'><div class="w-1/2"></div><div class="timeline-marker absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-slate-400 border-4 border-white"></div><div class="w-1/2 pl-8 text-left"><div class="timeline-card bg-white p-6 rounded-xl shadow-lg border-2 border-transparent"><p class="text-slate-500 font-semibold">Fase 5</p><h4 class="font-bold text-lg text-slate-900 mt-1">Pruebas y Validación</h4></div></div></div>
                        <div class="timeline-item flex items-center w-full" data-phase="Fase 6 (1 Semana)" data-tasks='["Entrega formal de la plataforma","Soporte durante la migración de VMs","Puesta en producción oficial","Entrega de documentación final"]'><div class="w-1/2 pr-8 text-right"><div class="timeline-card bg-white p-6 rounded-xl shadow-lg border-2 border-transparent"><p class="text-sky-700 font-semibold">Fase 6</p><h4 class="font-bold text-lg text-slate-900 mt-1">Entrega y Puesta en Marcha</h4></div></div><div class="timeline-marker absolute left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-green-500 border-4 border-white"></div><div class="w-1/2"></div></div>
                    </div>
                </div>
                <div id="timeline-details" class="mt-12 lg:mt-0 bg-white p-8 rounded-2xl shadow-xl border border-slate-100 min-h-[300px] sticky top-28">
                    <h4 id="timeline-phase-title" class="font-bold text-xl text-sky-700 mb-4"></h4>
                    <ul id="timeline-task-list" class="list-none text-slate-600 space-y-3"></ul>
                </div>
            </div>
        </section>

        <!-- Section 4: Inversión -->
        <section id="inversion" class="mb-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Inversión Financiera Transparente</h2>
                <div class="max-w-3xl mx-auto text-left text-slate-600 space-y-2">
                    <p><strong>Inversión de Capital (CapEx):</strong> Es el gasto único inicial para adquirir los activos físicos y licencias que formarán parte del patrimonio de la empresa. Nuestra propuesta se centra en maximizar el valor de esta inversión a largo plazo.</p>
                    <p><strong>Costos Operativos (OpEx):</strong> Son los gastos recurrentes necesarios para mantener y operar la infraestructura, como el soporte anual y las suscripciones. Buscamos minimizar el OpEx a través de la eficiencia y la automatización.</p>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                <div class="lg:col-span-3 bg-white p-8 rounded-2xl shadow-xl border border-slate-100">
                     <h3 class="text-xl font-bold text-slate-900 mb-4">Desglose de Inversión Inicial (CapEx)</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                        <thead class="border-b border-slate-200"><tr class="text-slate-500 text-sm"><th class="py-2 font-semibold">Categoría</th><th class="py-2 font-semibold text-right">Monto (USD)</th></tr></thead>
                        <tbody>
                            <tr id="hardware-toggle-row" class="toggle-row hover:bg-slate-50"><td class="py-3 font-semibold text-slate-800 flex items-center"><span class="arrow mr-2 text-sky-600">▶</span><span>Hardware</span></td><td class="py-3 text-right font-mono font-semibold text-slate-800">$695,736.60</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Servidores Dell VxRail Dynamic Node (10)</td><td class="py-2 text-right font-mono text-slate-600">$370,500.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Almacenamiento Dell PowerStore 1200T</td><td class="py-2 text-right font-mono text-slate-600">$162,500.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Switches LAN Dell PowerSwitch (2)</td><td class="py-2 text-right font-mono text-slate-600">$46,800.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Switches SAN Dell Connectrix (2)</td><td class="py-2 text-right font-mono text-slate-600">$39,000.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Tarjetas HBA FC Dell (20)</td><td class="py-2 text-right font-mono text-slate-600">$45,630.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Librería de Cintas Quantum Scalar i6</td><td class="py-2 text-right font-mono text-slate-600">$18,200.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Medios de Cinta (100 LTO-8, 5 Limpieza)</td><td class="py-2 text-right font-mono text-slate-600">$10,400.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Rack 42U y PDUs</td><td class="py-2 text-right font-mono text-slate-600">$2,327.00</td></tr>
                            <tr class="detail-row hardware-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600 border-b border-slate-200">Cableado Fibra Óptica</td><td class="py-2 text-right font-mono text-slate-600 border-b border-slate-200">$379.60</td></tr>
                            
                            <tr id="software-toggle-row" class="toggle-row hover:bg-slate-50 border-t border-slate-200"><td class="py-3 font-semibold text-slate-800 flex items-center"><span class="arrow mr-2 text-sky-600">▶</span><span>Software</span></td><td class="py-3 text-right font-mono font-semibold text-slate-800">$166,920.00</td></tr>
                            <tr class="detail-row software-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Licencia VMware vSphere 8 Ent. Plus (640 cores)</td><td class="py-2 text-right font-mono text-slate-600">$99,840.00</td></tr>
                            <tr class="detail-row software-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600 border-b border-slate-200">Licencia Veeam Data Platform Universal (20 inst.)</td><td class="py-2 text-right font-mono text-slate-600 border-b border-slate-200">$67,080.00</td></tr>

                            <tr id="services-toggle-row" class="toggle-row hover:bg-slate-50 border-t border-slate-200"><td class="py-3 font-semibold text-slate-800 flex items-center"><span class="arrow mr-2 text-sky-600">▶</span><span>Servicios Profesionales y Capacitación</span></td><td class="py-3 text-right font-mono font-semibold text-slate-800">$97,500.00</td></tr>
                            <tr class="detail-row services-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600">Servicios de Implementación (Instalación, Config.)</td><td class="py-2 text-right font-mono text-slate-600">$78,000.00</td></tr>
                            <tr class="detail-row services-detail" style="display: none;"><td class="py-2 pl-8 text-slate-600 border-b border-slate-200">Capacitación Dell PowerStore Admin (2 personas)</td><td class="py-2 text-right font-mono text-slate-600 border-b border-slate-200">$19,500.00</td></tr>
                            
                            <tr class="bg-slate-100 border-t-2 border-slate-300"><td class="py-4 font-bold text-lg">Total CapEx</td><td class="py-4 text-right font-bold text-lg font-mono text-sky-700">$960,156.60</td></tr>
                        </tbody>
                        </table>
                    </div>
                     <h3 class="text-xl font-bold text-slate-900 mb-2 mt-8">Costo Anual Recurrente (OpEx)</h3>
                     <p class="font-mono text-lg font-semibold text-slate-700">$71,586 <span class="text-sm font-sans font-normal text-slate-500">(Soporte Dell ProSupport Plus 24x7 + Veeam + Quantum)</span></p>
                </div>
                <div class="lg:col-span-2 bg-white p-8 rounded-2xl shadow-xl border border-slate-100">
                    <div class="text-center mb-4"><h4 class="text-xl font-bold text-slate-900">Distribución de Inversión Inicial</h4><p class="text-sm text-slate-500 mt-1">Desglose de los costos de capital (CapEx). Haga clic en una barra para ver detalles.</p></div>
                    <div class="chart-container"><canvas id="investmentChart"></canvas></div>
                </div>
            </div>
        </section>
        
        <!-- Section 5: Análisis Financiero -->
        <section id="financiero" class="mb-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-3">Análisis Financiero: El Valor de la Modernización</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">Esta inversión va más allá de un gasto; es una decisión de negocio estratégica para optimizar costos y habilitar el crecimiento. A continuación, demostramos cómo la inversión inicial (CapEx) se traduce en un Retorno de Inversión (ROI) positivo a través de ahorros operativos y mitigación de riesgos.</p>
            </div>
            <div class="bg-white p-8 rounded-2xl shadow-xl border border-slate-100">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                     <div class="text-center">
                        <h4 class="text-xl font-bold text-slate-900">Retorno de Inversión (ROI) a 5 Años</h4>
                        <p class="text-sm text-slate-500 mt-1 mb-4">Visualización del camino hacia la rentabilidad.</p>
                         <div class="chart-container-large mx-auto">
                            <canvas id="waterfallChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-slate-900 mb-4">Beneficios Económicos Cuantificables</h3>
                        <p class="text-slate-600 mb-6">La modernización de la infraestructura genera valor tangible a través de tres pilares principales, que en conjunto, superan la inversión inicial.</p>
                        <div class="space-y-4">
                            <div class="p-4 rounded-lg bg-green-50 border border-green-200">
                                <p class="font-bold text-green-800">1. Ahorro en Eficiencia Operativa</p>
                                <p class="text-sm text-green-700">La automatización reduce horas de administración, y la nueva tecnología disminuye el consumo de energía y refrigeración.</p>
                                <p class="text-right font-semibold text-green-800 mt-2">Ahorro a 5 años: ~$156,000</p>
                            </div>
                             <div class="p-4 rounded-lg bg-green-50 border border-green-200">
                                <p class="font-bold text-green-800">2. Mitigación de Riesgos Financieros</p>
                                <p class="text-sm text-green-700">La alta disponibilidad y la ciber-resiliencia minimizan el costo de caídas no planificadas y ataques de ransomware.</p>
                                <p class="text-right font-semibold text-green-800 mt-2">Ahorro a 5 años: ~$1,000,000</p>
                            </div>
                             <div class="p-4 rounded-lg bg-green-50 border border-green-200">
                                <p class="font-bold text-green-800">3. Habilitación de Nuevas Oportunidades</p>
                                <p class="text-sm text-green-700">Una plataforma ágil permite lanzar nuevos servicios y análisis de datos avanzados (Business Intelligence, IA) más rápido, generando nuevos ingresos.</p>
                                <p class="text-right font-semibold text-green-800 mt-2">Ingresos a 5 años: ~$1,250,000</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Conclusión y Contacto -->
        <section id="conclusion" class="bg-slate-100 text-slate-800 p-12 md:p-20 rounded-3xl text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Listos para ser su Socio Tecnológico</h2>
            <p class="max-w-2xl mx-auto text-lg text-slate-600 mb-8">Estamos convencidos de que esta es la solución más robusta y con la mejor relación costo-beneficio para impulsar el futuro de Casa Ley. Quedamos a su entera disposición para cualquier consulta.</p>
            <div class="mt-8 bg-white text-slate-800 rounded-2xl shadow-lg p-8 max-w-lg mx-auto text-left">
                <div class="flex items-center mb-4">
                     <img id="footer-logo" src="" alt="SINAI Mantenimiento Logo" class="h-16 w-16 mr-4">
                    <div>
                        <h4 class="text-xl font-bold">Jorge G. López Laveaga</h4>
                        <p class="text-slate-600">Soluciones y Estrategia de Negocio</p>
                    </div>
                </div>
                <div class="mt-4 space-y-3 border-t pt-4">
                    <p class="flex items-center"><strong class="w-20 inline-block">Email:</strong> <a href="mailto:ventas@sinaimx.com" class="text-sky-600 hover:underline">ventas@sinaimx.com</a></p>
                    <p class="flex items-center"><strong class="w-20 inline-block">Celular:</strong> <span>+52 55 1701- 44 51</span></p>
                    <p class="flex items-center"><strong class="w-20 inline-block">Oficina:</strong> <span>+52 56 5256-43 38</span></p>
                </div>
            </div>
        </section>

    </main>

    <!-- Chart Detail Modal -->
    <div id="chart-modal" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center p-4">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-sm text-center">
            <h3 id="modal-title" class="text-xl font-bold mb-2 text-slate-900"></h3>
            <p id="modal-text" class="text-slate-600"></p>
            <button id="modal-close" class="mt-6 bg-sky-700 text-white px-5 py-2 rounded-lg hover:bg-sky-800 transition-colors">Cerrar</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // =================================================================
            // INSTRUCCIONES DE PLANTILLA.
            // =================================================================
            // Este script controla toda la interactividad de la página.
            // Para personalizar esta plantilla para un nuevo cliente, solo
            // necesitas modificar las constantes en la sección "Datos de la Plantilla".

            // --- 1. Rutas de Imágenes ---
            // Aquí se definen las rutas a todas las imágenes locales.
            // Asegúrate de que los nombres de archivo coincidan con lo que tienes
            // en tu carpeta /images.
            const imagePaths = {
                computo: './images/dell_vxrail_node.jpg',
                almacenamiento: './images/dell_powerstore.jpg',
                'red-lan': './images/dell_powerswitch.jpg',
                'red-san': './images/cisco_mds_switch.jpg',
                proteccion: './images/quantum_scalar_tape_library.jpg',
                energia: './images/vertiv_liebert_ups.jpg',
                logo: './images/logo_sinai.png',
                dhci_layered_architecture: './images/dhci_layered_architecture.png',
                vxrail_manager_multisite: './images/vxrail_manager_multisite.jpg',
                hci_vs_dhci_comparison: './images/hci_vs_dhci_comparison.jpg'
            };

            // --- 2. Datos Financieros ---
            // Modifica estas constantes para ajustar todos los cálculos económicos.
            const utility = 1.30; 
            const hardwareBaseCost = 535182;
            const softwareBaseCost = 128400;
            const servicesBaseCost = 75000;
            const annualOpex = 71586; // Costo anual del soporte
            const totalCapex = (hardwareBaseCost + softwareBaseCost + servicesBaseCost) * utility;

            // Datos para las gráficas. Se calculan automáticamente a partir de las constantes anteriores.
            const investmentData = {
                labels: ['Hardware', 'Software', 'Servicios'],
                values: [hardwareBaseCost * utility, softwareBaseCost * utility, servicesBaseCost * utility],
                colors: ['#0ea5e9', '#14b8a6', '#f59e0b']
            };
            const storageData = {
                labels: ['Capacidad Usable', 'Capacidad Efectiva Potencial'],
                values: [300, 1200],
                colors: ['#0ea5e9', '#e5e7eb']
            };
            
            // --- FIN DE LA SECCIÓN DE DATOS DE PLANTILLA ---


            let investmentChartInstance, storageChartInstance, projectionChartInstance;

            // --- Lógica de la Página (Generalmente no necesita edición) ---

            // Función para manejar el popup (modal) de detalles de las gráficas.
            const modal = document.getElementById('chart-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalText = document.getElementById('modal-text');
            const modalClose = document.getElementById('modal-close');

            function showModal(title, text) {
                modalTitle.textContent = title;
                modalText.textContent = text;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }
            modalClose.addEventListener('click', () => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            });
             modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            });

            // Función que se activa al hacer clic en una gráfica.
            function handleChartClick(chart, evt) {
                const points = chart.getElementsAtEventForMode(evt, 'nearest', { intersect: true }, true);
                if (points.length) {
                    const firstPoint = points[0];
                    const label = chart.data.labels[firstPoint.index];
                    const value = chart.data.datasets[firstPoint.datasetIndex].data[firstPoint.index];
                    
                    let title = label;
                    let text = `El valor para "${label}" es ${new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'USD' }).format(value)}.`;

                    if (chart.canvas.id === 'storageChart') {
                        title = label;
                        text = (label === 'Capacidad Usable')
                            ? 'Representa los 300 TiB de almacenamiento físico NVMe que se entregan, cumpliendo el RFP.'
                            : 'Representa la capacidad potencial de hasta 1.5 PBe que se puede alcanzar gracias a las tecnologías de compresión y deduplicación garantizadas por Dell.';
                    } 
                    showModal(title, text);
                }
            }

            // Funciones para dibujar cada una de las gráficas.
            function renderInvestmentChart() {
                const ctx = document.getElementById('investmentChart');
                if (!ctx) return;
                investmentChartInstance = new Chart(ctx.getContext('2d'), {
                    type: 'bar',
                    data: { labels: investmentData.labels, datasets: [{ label: 'Inversión Inicial (USD)', data: investmentData.values, backgroundColor: investmentData.colors, borderRadius: 6 }] },
                    options: { responsive: true, maintainAspectRatio: false, onClick: (evt) => handleChartClick(investmentChartInstance, evt), plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `${c.label}: ${new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'USD' }).format(c.raw)}` } } }, scales: { y: { beginAtZero: true, ticks: { callback: (v) => '$' + (v / 1000) + 'K' } } } }
                });
            }

            function renderStorageChart() {
                const ctx = document.getElementById('storageChart');
                 if (!ctx) return;
                storageChartInstance = new Chart(ctx.getContext('2d'), {
                    type: 'doughnut',
                    data: { labels: storageData.labels, datasets: [{ data: storageData.values, backgroundColor: storageData.colors, borderColor: '#ffffff', borderWidth: 4 }] },
                    options: { responsive: true, maintainAspectRatio: false, onClick: (evt) => handleChartClick(storageChartInstance, evt), cutout: '70%', plugins: { legend: { position: 'bottom' }, tooltip: { callbacks: { label: (c) => `${c.label}: ${c.parsed} TB` } } } }
                });
            }
            
            function renderWaterfallChart() {
                const ctx = document.getElementById('waterfallChart');
                if (!ctx) return;
                
                const initialInvestment = -totalCapex;
                const savingsOps = 156000;
                const savingsRisk = 1000000;
                const newRevenue = 1250000;
                const fiveYearOpexCost = -(annualOpex * 5);
                const netROI = initialInvestment + savingsOps + savingsRisk + newRevenue + fiveYearOpexCost;

                const data = {
                    labels: ['Inversión Inicial', 'Ahorro Operativo', 'Mitigación Riesgo', 'Nuevos Ingresos', 'Costo OpEx (5a)', 'ROI Neto'],
                    datasets: [{
                        label: 'Flujo Financiero a 5 Años',
                        data: [
                            initialInvestment,
                            savingsOps,
                            savingsRisk,
                            newRevenue,
                            fiveYearOpexCost,
                            netROI
                        ],
                        backgroundColor: (ctx) => {
                            const value = ctx.raw;
                            if (ctx.dataIndex === 0 || ctx.dataIndex === 4) return '#ef4444'; // red-500 for costs
                            if (ctx.dataIndex === 5) return '#22c55e'; // green-500 for final ROI
                            return '#86efac'; // green-300 for gains
                        },
                        borderColor: (ctx) => {
                            const value = ctx.raw;
                             if (ctx.dataIndex === 5) return '#16a34a'; // green-700
                             return '#ffffff';
                        },
                        borderWidth: 2,
                        barPercentage: 0.8,
                    }]
                };

                const waterfallData = data.datasets[0].data.reduce((acc, val, i) => {
                    if (i === 0) {
                        acc.push([0, val]);
                    } else if (i < data.datasets[0].data.length -1) {
                         const prev = acc[i-1][1];
                         acc.push([prev, prev + val]);
                    } else { // Final bar
                        acc.push([0, val]);
                    }
                    return acc;
                }, []);
                
                data.datasets[0].data = waterfallData;

                new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                        indexAxis: 'x',
                        responsive: true,
                        maintainAspectRatio: false,
                         plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const originalValue = context.chart.data.datasets[context.datasetIndex].data[context.dataIndex];
                                        let displayValue;
                                        if(Array.isArray(originalValue)) {
                                            if (context.label === 'Inversión Inicial' || context.label === 'ROI Neto') {
                                                displayValue = originalValue[1];
                                            } else {
                                                 displayValue = originalValue[1] - originalValue[0];
                                            }
                                        } else {
                                             displayValue = originalValue;
                                        }
                                        return `${context.label}: ${new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'USD' }).format(displayValue)}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                title: { display: true, text: 'Flujo de Caja (USD)' },
                                ticks: { callback: (v) => '$' + (v / 1000) + 'K' }
                            }
                        }
                    }
                });
            }

            // --- Lógica para la interactividad de la línea de tiempo ---
            const timelineItems = document.querySelectorAll('.timeline-item');
            const phaseTitleEl = document.getElementById('timeline-phase-title');
            const taskListEl = document.getElementById('timeline-task-list');

            function updateTimelineDetails(item) {
                if (!item) return;
                const phaseTitle = item.dataset.phase;
                const tasks = JSON.parse(item.dataset.tasks);
                
                phaseTitleEl.textContent = phaseTitle;
                taskListEl.innerHTML = '';
                tasks.forEach(task => {
                    const li = document.createElement('li');
                    li.classList.add('flex', 'items-start');
                    li.innerHTML = `<span class="text-sky-600 mr-3 mt-1">▪</span><span>${task}</span>`;
                    taskListEl.appendChild(li);
                });

                timelineItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            }
            
            timelineItems.forEach(item => {
                item.addEventListener('click', () => updateTimelineDetails(item));
            });

            // --- Lógica para la interactividad de la sección de Arquitectura ---
            const componentBtns = document.querySelectorAll('.component-btn');
            const componentSections = document.querySelectorAll('.component-section');

            function updateComponentImage(componentId) {
                const activeSection = document.getElementById(`${componentId}-section`);
                if (activeSection) {
                    const imgElement = activeSection.querySelector('img');
                    if (imgElement && imagePaths[componentId]) {
                        imgElement.src = imagePaths[componentId];
                    }
                }
            }

            componentBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const componentId = btn.dataset.component;
                    
                    componentBtns.forEach(b => b.classList.remove('component-active'));
                    btn.classList.add('component-active');

                    componentSections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    const activeSection = document.getElementById(`${componentId}-section`);
                    if (activeSection) {
                        updateComponentImage(componentId);
                        activeSection.classList.add('active');
                    }
                });
            });

            // --- Lógica para la interactividad del diagrama en Visión General ---
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    const targetId = card.dataset.target;
                    const targetBlock = document.getElementById(targetId);
                    if(targetBlock) {
                        targetBlock.classList.add('on');
                    }
                });
                card.addEventListener('mouseleave', () => {
                     const targetId = card.dataset.target;
                    const targetBlock = document.getElementById(targetId);
                    if(targetBlock) {
                        targetBlock.classList.remove('on');
                    }
                });
            });
            
            // --- Lógica para desplegar las tablas de inversión ---
            document.querySelectorAll('.toggle-row').forEach(toggleRow => {
                toggleRow.addEventListener('click', () => {
                    toggleRow.classList.toggle('open');
                    const detailClass = toggleRow.id.replace('-toggle-row', '-detail');
                    document.querySelectorAll(`.${detailClass}`).forEach(row => {
                        row.style.display = row.style.display === 'none' ? 'table-row' : 'none';
                    });
                });
            });

            // --- Lógica para las pestañas de diagramas de arquitectura ---
            const archTabs = document.querySelectorAll('.arch-tab');
            const archContents = document.querySelectorAll('.arch-content');
            
            archTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetId = tab.dataset.target;
                    
                    archTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    archContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    document.getElementById(targetId).classList.add('active');
                });
            });

            // --- Ejecución Inicial al Cargar la Página ---
            
            // Carga las imágenes de los diagramas de arquitectura
            document.querySelector('#arch-dhci img').src = imagePaths.dhci_layered_architecture;
            document.querySelector('#arch-manager img').src = imagePaths.vxrail_manager_multisite;
            document.querySelector('#arch-comparison img').src = imagePaths.hci_vs_dhci_comparison;
            
            // Carga los logos
            document.getElementById('main-logo').src = imagePaths.logo;
            document.getElementById('footer-logo').src = imagePaths.logo;
            
            // Lógica para resaltar la sección activa en la barra de navegación
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('nav-active');
                            if (link.getAttribute('href').includes(entry.target.id)) {
                                link.classList.add('nav-active');
                            }
                        });
                    }
                });
            }, { rootMargin: "-30% 0px -70% 0px" });
            sections.forEach(section => observer.observe(section));

            // Dibuja todas las gráficas
            renderInvestmentChart();
            renderStorageChart();
            renderWaterfallChart();
            
            // Muestra los detalles de la primera fase de la línea de tiempo por defecto
            if (timelineItems.length > 0) {
                updateTimelineDetails(timelineItems[0]);
            }
            
            // Carga la imagen del primer componente de arquitectura por defecto
            if (componentBtns.length > 0) {
                updateComponentImage(componentBtns[0].dataset.component);
            }
        });
    </script>
</body>
</html>
